<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<script type="text/javascript" src="scripts.js"></script>
		<script type="text/javascript">
<!--
			$(document).ready(function() {
				var questions	= ['1 вПнВ','1 ГуЦ','1 Д','1 РвГСЦ','3 ДпОППВ','3 Ж','3 СвТ','3 ТнП','4 ВГ','4 О','4 CC','4 ТиС','4 ЧЧЧЧЧЧЧ','5 ОЧуЧ','5 ПнР','7 ВдН','7 ДвН','7 ЧС','7 ЦР','8 НуП','9 ЖуК','9 КАвБК','9 М','9 ПСС','10 ЛС','10 Н','10 ПнР','11 ИвФК','12 ЗЗ','12 ЗС','12 ПГ','12 С','13 ЛМ в Г','13 = ЧД','14 СвС','15 ВвИКXСМ','17 МВ','18 = С','20 ЛС','20 ПнРиН','24 ЧвС','24 ЧП','26 БвАА','26 БК','29 ДвФвВГ','33 БвРА','33 = ВX','33 К','45 = БЯО','52 КвК','60 = МвЧ','60 = СвМ','64 = КнШД','88 = КнФ','90 ГвПУ','100 КвР','101 Д','206 КвЧТ','1440 МвС','1917 = ВОР','1980 = ОвМ','20000 ЛпВ'],
					answers		= ['0aff6cb92ea672e3f1ada4b2b04b219c','070f7998fd6afbdb45ecfd6879f617d9','37f12e2874cd2874175623304769866f','e2ce9b84d28ffc1c60b7288df61f1864','1189c466028bc344ef4cd8b7f41f8bf6','15b892147ea1ae5d528c77d50492dd89','8f6e41a4c4c0fc55b3ef0268a64760d6','ae07a1d33d9403fab259ba5a17b9da6d','31f0a86b68831396e98097749505dc6f','f0b52b9da7bd0aa8df87eea5df9da727','cb955ee458e25b030c3f7089bd809089','1c058555070fc6ea9dff1e1f1ffba52e','38d4d43cd7124a4ab8f441ce07723e9f','f7c1e96ed59dd9e73a15f669363a1f49','ff652872f45ea25859a74fe123845a88','dd7f2ad3e60bdf86269b956e4d98364e','401b1a681ab2c7c7c5514eb92483b422','38344382b9e5560c061673a3b4b671bf','3adca5edff7b06d0692b7373f7b32bae','039288c6fac125a934e4afb971c1c77e','d8616d49bdc188cbd0ba4be06883ab27','3931a5213ae09353fda70b90d99a9da6','f57715d68203a25dea6073f22115bb65','2d275ba704582a4bdbf77a2483a24c3b','f77a115044d9e2f4fe0ab0926c4dd537','9acb9bc3e69d23a20e1dc9123cdac89f','f47d2c66373f9a7e2dc6027b011e096a','061ede36da7b8ae4e747c447cd31f9a9','aa6b89506fda5de6f577a0df8dec0319','aa844487da9588d2e2f109fb5383f278','8244919c5ef89ef81d280c295dc0cce4','4be0d6b880caa148f65584db2af0f314','4b1aa6b952b916856d090b957c4de66c','78e5565b126db67b3894bdace7bff983','d4f82d9935476b3392f2faab90bc05da','fec52357ff104ecded3f704cdc548cdf','1129418bdb7cdd907da6f1cded0b1f4b','882229d3f926b65b5625f846ee776886','f77a115044d9e2f4fe0ab0926c4dd537','774110a01aa1e3c6c78d65c5cc858fe6','bbd39b64598e53843d2efa2e4906be30','4e6fa9a1e0b88a2638594981f094a22e','0a8b0957d704da66381a76b88e1ecb0d','a5e5c6da9b33c413506332055e81cd18','d4c10353ccad19750894ad7b1a674ad6','1ddf3f933d10882b02b0b4bcd6b2e1ab','b23249adeae9017bb76a6c0a7ceed62e','38345e84b94497efb488c13460684233','13f5b92b62ade691e279c528ff07675e','a84b43aa6b51df3515cc4aeaead60699','7326cc1612cb4faad9ff7a978f87a7c1','9ab2058f2821b78de53be7e731e30fb3','ff4cd912e402c5dece7f3a261577bdb6','12e5e94ff08a385e55b19bc0ec3e50d7','5b61a708f91b1b025bb45894e4fb71a8','6795f108e7d7b28e4113a456590684be','1243488b43da176eb7c3f55584a0eb38','b9ba51fa431b0033b3370a03c51d5fc6','f28e61997409f4f77315d56420f502f4','eb7874f8217e647679eb9f224b511b64','bf99e658c3504b90207c13f9d74d6069','88fb1d75c384524de78232c850754de5'],
					gameField	= $('#gameField'),
					resultText  = [{percent: 90, text: 'Гений!'}, {percent: 75, text: 'До нобелевской еще далеко!'}, {percent: 50, text: 'Есть результат!'}, {percent: 0, text: 'Читай книги!'}];
					i			= 0;

				if (questions.length !== answers.length) {
					gameField.append(
						$('<div />')
							.addClass('warning')
							.append('Количество вопросов и ответов не совпадает. Игры не будет :(')
					);

					return;
				}

				while (i < questions.length) {
					gameField.append(
						$('<div />')
							.addClass('questionBlock')
							.append(
								$('<div />')
									.addClass('question')
									.append(questions[i])
							)
							.append(
								$('<div />')
									.addClass('answer')
									.append(
										$('<input />')
											.addClass('answerField')
											.attr('id', 'answer_'+i)
									)
							)
					);

					i++;
				}

				$('#resultTotal').html(questions.length);

				$('.answerField').live(
					'keyup',
					function() {
						var id = $(this).attr('id').substring(7);

						if (answers[id] == MD5($(this).val().toLowerCase())) {
							$(this)
								.attr('disabled', 'disabled')
								.addClass('solved');
							
							countAnswers();
						}
					}
				);

				function countAnswers() {
					var solvedCount	= $('.solved').length,
						percent		= solvedCount / questions.length,
						textFinded	= false,
						i = 0;

					$('#resultCount').html(solvedCount);

					while (!textFinded && (i < resultText.length)) {
						if (resultText[i].percent <= percent) {
							$('#resultText').html(resultText[i].text);
							textFinded = true;
						}

						i++;
					}
				}

				countAnswers();
			});
//-->
		</script>
		<style type="text/css">
			body {background:#eee;font:normal 14pt Arial,Verdana,Tahoma;margin:0px;padding:0px;}
			#gameField {width:90%;margin:0px auto;}
				h1 {margin:1em 0px;font-size:1.6em}
				.warning {color:#f33;font-weight:bold;font-size:1.1em;}
				.questionBlock {overflow:hidden;clear:both;}
					.question {width:10%;float:left;text-align:right;}
					.answer {width:85%;float:right;}
						.answerField {width:98%;border:1px solid #ccc}
		</style>
	</head>
	<body>
		<div id="gameField">
			<div class="questionBlock">
				<div class="question"><h1>Дитлоид</h1></div>
				<div class="answer" style="margin:2em 0px 1.6em 0px">
					Результат:
					<span id="resultCount">0</span> из
					<span id="resultTotal">0</span>
					«<span id="resultText"></span>»
				</div>
			</div>
		</div>
	</body>
</html>
