<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<script type="text/javascript" src="scripts.js"></script>
		<script type="text/javascript">
<!--
			$(document).ready(function() {
				var questions	= ['1 вПнВ','1 ГуЦ','3 ДпОППВ','4 О','4 ТиС','4 ЧЧЧЧЧЧЧ','5 ОЧуЧ','5 ПнР','7 ДвН','7 ЧС','7 ЦР','8 НуО','9 ЖуК','9 ПСС','10 Н','11 ИвФК','12 ЗЗ','12 ПГ','12 С','13 ЧД','17 МВ','20 ПнРиН','24 ЧвС','26 БвАА','29 ДвФвВГ','33 БвРА','33 К','45 БЯО','52 КвК','60 СвМ','64 КнШД','90 ГвПУ','100 КвР','101 Д','180 СУвТ','206 КвЧТ','1917 ВОР','1980 ОвМ','20000 ЛпВ'],
					answers		= ['0aff6cb92ea672e3f1ada4b2b04b219c','070f7998fd6afbdb45ecfd6879f617d9','1189c466028bc344ef4cd8b7f41f8bf6','f0b52b9da7bd0aa8df87eea5df9da727','1c058555070fc6ea9dff1e1f1ffba52e','38d4d43cd7124a4ab8f441ce07723e9f','f7c1e96ed59dd9e73a15f669363a1f49','ff652872f45ea25859a74fe123845a88','401b1a681ab2c7c7c5514eb92483b422','38344382b9e5560c061673a3b4b671bf','3adca5edff7b06d0692b7373f7b32bae','2dd17be9d80260b74ed489fd014a4835','d8616d49bdc188cbd0ba4be06883ab27','2d275ba704582a4bdbf77a2483a24c3b','9acb9bc3e69d23a20e1dc9123cdac89f','061ede36da7b8ae4e747c447cd31f9a9','aa6b89506fda5de6f577a0df8dec0319','8244919c5ef89ef81d280c295dc0cce4','4be0d6b880caa148f65584db2af0f314','78e5565b126db67b3894bdace7bff983','1129418bdb7cdd907da6f1cded0b1f4b','75c605dd1a733ffff9881b3dab7b3245','bbd39b64598e53843d2efa2e4906be30','0a8b0957d704da66381a76b88e1ecb0d','d4c10353ccad19750894ad7b1a674ad6','1ddf3f933d10882b02b0b4bcd6b2e1ab','38345e84b94497efb488c13460684233','13f5b92b62ade691e279c528ff07675e','a84b43aa6b51df3515cc4aeaead60699','9ab2058f2821b78de53be7e731e30fb3','e2b8d804ac89393d5b48ba63233d64d0','5b61a708f91b1b025bb45894e4fb71a8','6795f108e7d7b28e4113a456590684be','e6a1aa703a86f91e67c7a6435fafa0dd','60b7da6b3136966112acf61d55113e57','b9ba51fa431b0033b3370a03c51d5fc6','eb7874f8217e647679eb9f224b511b64','bf99e658c3504b90207c13f9d74d6069','88fb1d75c384524de78232c850754de5'],
					gameField	= $('#gameField'),
					resultText  = [{percent: 90, text: 'Гений!'}, {percent: 75, text: 'До нобелевской еще далеко!'}, {percent: 50, text: 'Есть результат!'}, {percent: 0, text: 'Читай книги!'}];
					i			= 0;

				if (questions.length !== answers.length) {
					gameField.append(
						$('<div />')
							.addClass('warning')
							.append('Количество вопросов и ответов не совпадает. Игры не будет :(')
					);

					return;
				}

				while (i < questions.length) {
					gameField.append(
						$('<div />')
							.addClass('questionBlock')
							.append(
								$('<div />')
									.addClass('question')
									.append(questions[i])
							)
							.append(
								$('<div />')
									.addClass('answer')
									.append(
										$('<input />')
											.addClass('answerField')
											.attr('id', 'answer_'+i)
									)
							)
					);

					i++;
				}

				$('#resultTotal').html(questions.length);

				$('.answerField').live(
					'keyup',
					function() {
						var id = $(this).attr('id').substring(7);

						if (answers[id] == MD5($(this).val().toLowerCase())) {
							$(this)
								.attr('disabled', 'disabled')
								.addClass('solved');
							
							countAnswers();
						}
					}
				);

				function countAnswers() {
					var solvedCount	= $('.solved').length,
						percent		= parseInt(solvedCount / questions.length * 100),
						textFinded	= false,
						i = 0;

					$('#resultCount').html(solvedCount);

					while (!textFinded && (i < resultText.length)) {
						if (resultText[i].percent <= percent) {
							$('#resultText').html(resultText[i].text);
							textFinded = true;
						}

						i++;
					}
				}

				countAnswers();
			});
//-->
		</script>
		<style type="text/css">
			body {background:#eee;font:normal 14pt Arial,Verdana,Tahoma;margin:0px;padding:0px;}
			#gameField {width:90%;margin:0px auto;}
				h1 {margin:1em 0px;font-size:1.6em}
				.warning {color:#f33;font-weight:bold;font-size:1.1em;}
				.questionBlock {overflow:hidden;clear:both;}
					.question {width:10%;float:left;text-align:right;}
					.answer {width:85%;float:right;}
						.answerField {width:98%;border:1px solid #ccc}
		</style>
	</head>
	<body>
		<div id="gameField">
			<div class="questionBlock">
				<div class="question"><h1>Дитлоид</h1></div>
				<div class="answer" style="margin:2em 0px 1.6em 0px">
					Результат:
					<span id="resultCount">0</span> из
					<span id="resultTotal">0</span>
					«<span id="resultText"></span>»
				</div>
			</div>
		</div>
	</body>
</html>
